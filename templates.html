<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>템플릿 선택 | 나만의 청첩장</title>
  <link rel="stylesheet" href="templates.css">
</head>
<body>
  <div class="templates-container">
    <h1>💐 청첩장 템플릿 선택</h1>
    <div class="template-list" id="template-list">
      <!-- 템플릿 썸네일 카드들이 JS로 렌더링됨 -->
    </div>
  </div>

  <!-- 미리보기 모달 -->
  <div class="modal" id="preview-modal" style="display:none;">
    <div class="modal-content">
      <span class="close-btn" id="close-modal">&times;</span>
      <div id="modal-template-preview">
        <!-- 템플릿 미리보기 내용 -->
      </div>
      <button id="select-template-btn">이 템플릿 선택</button>
    </div>
  </div>

  <script type="module">
    // 샘플 템플릿 데이터
    const templates = [
      {
        id: 'classic',
        name: '클래식 화이트',
        thumb: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80',
        preview: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80',
        premium: false
      },
      {
        id: 'pink-floral',
        name: '핑크 플로럴',
        thumb: 'https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=400&q=80',
        preview: 'https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=800&q=80',
        premium: true
      },
      {
        id: 'gold-elegant',
        name: '골드 엘레강스',
        thumb: 'https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=400&q=80',
        preview: 'https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=800&q=80',
        premium: true
      },
      {
        id: 'green-nature',
        name: '그린 내추럴',
        thumb: 'https://images.unsplash.com/photo-1502082553048-f009c37129b9?auto=format&fit=crop&w=400&q=80',
        preview: 'https://images.unsplash.com/photo-1502082553048-f009c37129b9?auto=format&fit=crop&w=800&q=80',
        premium: false
      }
    ];

    const listDiv = document.getElementById('template-list');
    const modal = document.getElementById('preview-modal');
    const modalPreview = document.getElementById('modal-template-preview');
    const closeModalBtn = document.getElementById('close-modal');
    const selectBtn = document.getElementById('select-template-btn');
    let selectedTemplate = null;

    // 썸네일 리스트 렌더링
    function renderTemplates() {
      listDiv.innerHTML = '';
      templates.forEach(tpl => {
        const card = document.createElement('div');
        card.className = 'template-card';
        card.innerHTML = `
          <img src="${tpl.thumb}" alt="${tpl.name}" class="template-thumb">
          <div class="template-title">${tpl.name}</div>
          ${tpl.premium ? '<span class="premium-tag">프리미엄</span>' : ''}
        `;
        card.addEventListener('click', () => openPreview(tpl));
        listDiv.appendChild(card);
      });
    }

    // 미리보기 모달 열기
    function openPreview(tpl) {
      selectedTemplate = tpl;
      modalPreview.innerHTML = `
        <img src="${tpl.preview}" alt="${tpl.name}" style="width:100%;border-radius:12px;margin-bottom:16px;">
        <div style="font-size:1.15rem;font-weight:bold;color:#a05c7b;margin-bottom:8px;">${tpl.name}</div>
        ${tpl.premium ? '<span class="premium-tag">프리미엄</span>' : ''}
      `;
      modal.style.display = 'flex';
    }

    // 모달 닫기
    closeModalBtn.addEventListener('click', () => {
      modal.style.display = 'none';
    });
    window.addEventListener('click', (e) => {
      if (e.target === modal) modal.style.display = 'none';
    });

    // 템플릿 선택 버튼 (다음 단계에서 활용)
    selectBtn.addEventListener('click', () => {
      if (selectedTemplate) {
        alert(`'${selectedTemplate.name}' 템플릿이 선택되었습니다.`);
        modal.style.display = 'none';
        // 실제 선택 로직은 다음 단계에서 구현
      }
    });

    renderTemplates();
  </script>
</body>
</html> 